<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,minimum-scale=1">
	<title>הוספת מיקום חדש</title>
	<!-- the form awesome library is used to add icons to our form -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
	<!-- include the stylesheet file -->
	<link href="/addNewLocationStyle.css" rel="stylesheet" type="text/css">
</head>

<body>
	<div class="addNewLocation" style="direction:rtl;">
		<h1>הוספת מיקום חדש</h1>
		<form action="/addLocationToDb" method="post" enctype="multipart/form-data">

			<label for="locationName">
				<!-- font awesome icon -->
				<i class="fas fa-info"></i>
			</label>
			<input type="text" name="locationName" placeholder="שם המיקום" id="locationName" required>


			<label for="latitude">
				<!-- font awesome icon -->
				<i class="fas fa-info"></i>
			</label>
			<input type="text" name="latitude" placeholder="latitude" id="latitude" required>


			<label for="longitude ">
				<!-- font awesome icon -->
				<i class="fas fa-info"></i>
			</label>
			<input type="text" name="longitude" placeholder="longitude" id="longitude" required>


			<label for="englishName">
				<!-- font awesome icon -->
				<i class="fas fa-info"></i>
			</label>
			<input type="text" name="englishName" placeholder="שם באנגלית ללא רווחים" id="englishName" required>



			<label for="locationText">
				<!-- font awesome icon -->
				<i class="fas fa-info"></i>
			</label>
			<input type="text" name="locationText" placeholder="טקסט לתיאור המיקום" id="locationText" required>

			<div class="checkboxes" style="direction:rtl;">

				מותר לשחות -->
				<input type="checkbox" name="canSwim" id="canSwim" value="כן" checked>
				<br>
				מקור מים -->

				<input type="checkbox" name="waterSource" id="waterSource" value="כן">
				<br>

				עלות כספית -->
				<input type="checkbox" name="costMoney" id="costMoney" value="כן">
				<br>

				שירותים זמינים באתר -->
				<input type="checkbox" name="toiletAvailable" id="toiletAvailable" value="כן">
				<br>
			</div>
			<br>
			צירוף תמונה <input type="file" name="file" id="fileToUpload" />
			<input type="submit" value="הוספה">
		</form>
		<form action="/adminHome" method="get">
			<input type="submit" value="לחץ כאן לחזרה למפה הראשית">
		</form>
	</div>



	<script>

	  const queryString = window.location.search;

	  const urlParams = new URLSearchParams(queryString);

		var search = location.search.substring(1);
		// var coaordinatesFromIndex = JSON.parse('{"' + decodeURIComponent(search).replace(/"/g, '\\"').replace(/&/g,'","').replace(/=/g,'":"') + '"}');

 		const coaordinatesToAdd = JSON.parse(urlParams.get('latLngvalue'))  //getting the locations  strigified at index.html
if(coaordinatesToAdd){
		document.getElementById('latitude').value = coaordinatesToAdd.lat;
		document.getElementById('longitude').value = coaordinatesToAdd.lng;
}

	console.log(coaordinatesToAdd);


	</script>
</body>

</html>
